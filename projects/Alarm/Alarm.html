<!DOCTYPE html>
<html>
<head>
    <title>Alarm Clock</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./Alarmstyle.css">
</head>
<body>
    <h1>Alarm Clock</h1>

    <div>
        <p id="time"></p>

    </div>

    <div>
        <form>
            <h2>Select the Hour of the alarm</h2>
            <select id="option">
                <option>01</option>
                <option>02</option>
                <option>03</option>
                <option>04</option>
                <option>05</option>
                <option>06</option>
                <option>07</option>
                <option>08</option>
                <option>09</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
                <option>13</option>
                <option>14</option>
                <option>15</option>
                <option>16</option>
                <option>17</option>
                <option>18</option>
                <option>19</option>
                <option>20</option>
                <option>21</option>
                <option>22</option>
                <option>23</option>
                <option>24</option>
            </select>
            <select id="option2">
                <option>01</option>
                <option>02</option>
                <option>03</option>
                <option>04</option>
                <option>05</option>
                <option>06</option>
                <option>07</option>
                <option>08</option>
                <option>09</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
                <option>13</option>
                <option>14</option>
                <option>15</option>
                <option>16</option>
                <option>17</option>
                <option>18</option>
                <option>19</option>
                <option>20</option>
                <option>21</option>
                <option>22</option>
                <option>23</option>
                <option>24</option>
                <option>25</option>
                <option>26</option>
                <option>27</option>
                <option>28</option>
                <option>29</option>
                <option>30</option>
                <option>31</option>
                <option>32</option>
                <option>33</option>
                <option>34</option>
                <option>35</option>
                <option>36</option>
                <option>37</option>
                <option>38</option>
                <option>39</option>
                <option>40</option>
                <option>41</option>
                <option>42</option>
                <option>43</option>
                <option>44</option>
                <option>45</option>
                <option>46</option>
                <option>47</option>
                <option>48</option>
                <option>49</option>
                <option>50</option>
                <option>51</option>
                <option>52</option>
                <option>53</option>
                <option>54</option>
                <option>55</option>
                <option>56</option>
                <option>57</option>
                <option>58</option>
                <option>59</option>
                <option>00</option>
            </select>
            
            <button id="btn" type="button">Set Alarm</button> <!-- button to set alarm -->
            <button id="stop" >Stop Alarm</button>
        </form>   
        <audio id="audio" src=""></audio> <!--audio tag where audio is loaded-->
    </div>

    <script>
             
        function timer(){
            
            let time = new Date();                             // create clock function including if statements to add the 0 on numbers less than 10
            let hours = time.getHours();
            let minutes = time.getMinutes();
            let seconds = time.getSeconds();
            if(minutes < 10) {
                minutes = "0" + minutes;
            }
            if(hours < 10) {
                hours = "0" + hours;
            }
            if(seconds < 10) {
                seconds = "0" + seconds;
            }

            document.getElementById('time').innerHTML = hours + ':' + minutes + ':' + seconds;
        }
        setInterval(timer, 1000);  // interval to ensure the clock updates each second

        document.getElementById('btn').addEventListener('click', setAlarm); // on click event listener for the button

        function setAlarm(){
            // console.log('its clicked');
            let time = new Date();
            let hours = time.getHours();
            let seconds = time.getSeconds();
           
           let audio = document.getElementById('audio'); // grab audio tag
           audio.src = './alarm.mp3';                      // set audio src
               audio.loop = true;                         // set audio to loop
            const e = document.getElementById('option');
            let alarm = e.options[e.selectedIndex].text;
            const s = document.getElementById('option2');
            let alarmS = s.options[s.selectedIndex].text;
            if(alarm == hours && alarmS == seconds) {
                
                audio.play();
                console.log('time is right');
            }
        };

        setInterval(setAlarm, 1000);

        document.getElementById('stop').addEventListener('click', stop);

        function stop() {
            let audio = document.getElementById('audio');
            audio.pause();
        }


    </script>
</body>


</html>